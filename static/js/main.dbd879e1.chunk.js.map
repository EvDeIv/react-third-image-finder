{"version":3,"sources":["components/SearchBar.js","components/ImageGalleryItem.js","components/ImageGallery.js","components/Button.js","components/ApiServices.js","components/Modal.js","components/App.js","index.js"],"names":["SearchBar","state","input","setInput","e","setState","target","value","handleSubmit","preventDefault","props","throwQuery","className","onSubmit","this","type","autoComplete","autoFocus","placefolder","onChange","React","Component","ImageGalleryItem","article","handleLargeImage","src","webformatURL","alt","tags","largeImageURL","onClick","ImageGallery","articles","map","id","Button","fetchNewImages","articlesApi","fetchImageDatabyQuery","query","page","axios","get","then","response","data","hits","Modal","keyEscape","code","toggleModal","window","addEventListener","removeEventListener","largeImage","App","isLoading","showModal","fetchImage","prevState","catch","err","console","log","finally","handleQuery","scrollToBottom","scrollTo","top","document","body","scrollHeight","behavior","getLargeImage","dataset","largeimage","stopPropagation","prevProps","length","color","height","width","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.dbd879e1.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nclass SearchBar extends React.Component {\r\n  state = {\r\n    input: \"\",\r\n  };\r\n\r\n  setInput = (e) => {\r\n    this.setState({ input: e.target.value });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.throwQuery(this.state.input);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <header className=\"Searchbar\">\r\n          <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n            <button type=\"submit\" className=\"SearchForm-button\">\r\n              <span className=\"SearchForm-button-label\">Search</span>\r\n            </button>\r\n\r\n            <input\r\n              type=\"text\"\r\n              className=\"SearchForm-input\"\r\n              autoComplete=\"off\"\r\n              autoFocus\r\n              placefolder=\"Search images and photos\"\r\n              onChange={this.setInput}\r\n            />\r\n          </form>\r\n        </header>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchBar;\r\n","function ImageGalleryItem({ article, handleLargeImage }) {\r\n  return (\r\n    <li className=\"ImageGalleryItem\">\r\n      <img\r\n        className=\"ImageGalleryItem-image\"\r\n        src={article.webformatURL}\r\n        alt={article.tags}\r\n        data-largeimage={article.largeImageURL}\r\n        onClick={handleLargeImage}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n","import ImageGalleryItem from \"./ImageGalleryItem\";\r\n\r\nfunction ImageGallery({ articles, handleLargeImage }) {\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      {articles.map((article) => (\r\n        <ImageGalleryItem\r\n          key={article.id}\r\n          article={article}\r\n          handleLargeImage={handleLargeImage}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nexport default ImageGallery;\r\n","function Button({ fetchNewImages }) {\r\n  return (\r\n    <button className=\"Button\" onClick={fetchNewImages}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default Button;\r\n","import axios from \"axios\";\r\n\r\nfunction fetchImageDatabyQuery(query = \"cat\", page = 1) {\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?q=${query}&page=${page}&key=17873748-3f7eaecfe33175e69c7f70038&image_type=photo&orientation=horizontal&per_page=12`\r\n    )\r\n    .then((response) => response.data.hits);\r\n}\r\n\r\nconst articlesApi = { fetchImageDatabyQuery };\r\nexport default articlesApi;\r\n","import React from \"react\";\r\n\r\nclass Modal extends React.Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"click\", this.props.toggleModal);\r\n    window.addEventListener(\"keydown\", this.keyEscape);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"click\", this.props.toggleModal);\r\n    window.removeEventListener(\"keydown\", this.keyEscape);\r\n  }\r\n\r\n  keyEscape = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.toggleModal(e);\r\n    }\r\n  };\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className=\"Overlay\">\r\n          <div className=\"Modal\">\r\n            <img src={this.props.largeImage} alt=\"\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React from \"react\";\r\n\r\nimport SearchBar from \"./SearchBar\";\r\nimport ImageGallery from \"./ImageGallery\";\r\nimport Button from \"./Button\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nimport articlesApi from \"./ApiServices\";\r\nimport Modal from \"./Modal\";\r\n\r\nclass App extends React.Component {\r\n  state = {\r\n    articles: [],\r\n    query: \"\",\r\n    page: 1,\r\n    isLoading: false,\r\n    showModal: false,\r\n    largeImage: \"\",\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevQurey = prevState.query;\r\n    const currQurey = this.state.query;\r\n\r\n    if (prevQurey !== currQurey) {\r\n      this.fetchImage();\r\n    }\r\n  }\r\n\r\n  fetchImage = () => {\r\n    this.setState({ isLoading: true });\r\n    articlesApi\r\n      .fetchImageDatabyQuery(this.state.query, this.state.page)\r\n      .then((response) =>\r\n        this.setState((prevState) => {\r\n          return {\r\n            articles: [...prevState.articles, ...response],\r\n            page: prevState.page + 1,\r\n          };\r\n        })\r\n      )\r\n      .catch((err) => console.log(err))\r\n      .finally(() => {\r\n        return this.setState({ isLoading: false });\r\n      });\r\n  };\r\n\r\n  handleQuery = (query) => {\r\n    if (this.state.query === query) {\r\n      console.log(\"1\");\r\n\r\n      return false;\r\n    }\r\n\r\n    this.setState({\r\n      query: query,\r\n      page: 1,\r\n      articles: [],\r\n    });\r\n  };\r\n\r\n  scrollToBottom = () => {\r\n    window.scrollTo({\r\n      top: document.body.scrollHeight,\r\n      behavior: \"smooth\",\r\n    });\r\n  };\r\n\r\n  getLargeImage = (e) => {\r\n    this.setState({ largeImage: e.target.dataset.largeimage });\r\n    this.toggleModal(e);\r\n  };\r\n\r\n  toggleModal = (e) => {\r\n    e.stopPropagation();\r\n    this.setState((prevState) => {\r\n      return {\r\n        showModal: !prevState.showModal,\r\n      };\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <SearchBar throwQuery={this.handleQuery} />\r\n        {this.state.articles.length > 1 && (\r\n          <ImageGallery\r\n            articles={this.state.articles}\r\n            handleLargeImage={this.getLargeImage}\r\n          />\r\n        )}\r\n        {this.state.page > 2 && this.scrollToBottom()}\r\n        {this.state.isLoading === true && (\r\n          <Loader\r\n            className=\"Loader\"\r\n            type=\"MutatingDots\"\r\n            color=\"#00BFFF\"\r\n            height={100}\r\n            width={100}\r\n          />\r\n        )}\r\n        {this.state.articles.length > 1 && this.state.isLoading !== true && (\r\n          <Button fetchNewImages={this.fetchImage} />\r\n        )}\r\n        {this.state.largeImage !== \"\" && this.state.showModal === true && (\r\n          <Modal\r\n            toggleModal={this.toggleModal}\r\n            largeImage={this.state.largeImage}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport \"./index.css\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}